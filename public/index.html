<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>gunslinger</title>
<link href="https://fonts.googleapis.com/css?family=Sancreek" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Kreon:700" rel="stylesheet">
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    font-family: 'Sancreek', sans-serif;
    background: url(design_instruct_wood_grain_texture_05.jpg);
    background-size: cover;
    text-align: center;
}
#container {
    width: 53vh;
    height: 94vh;
    margin: 3vh auto;
    background: #f2e7cb;
    padding: 2vh;
    box-sizing: border-box;
    -webkit-mask-box-image: url("poster-mask.png") 20 42 42 25 repeat;
    mask-border: url("poster-mask.png") 20 42 42 25 repeat;
    box-shadow: inset 0 0 10vh 1vh rgba(33,26,10,0.6);
    position: relative;
    overflow: hidden;
}
#container::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: url(Concrete_15_UV_H_CM_1.jpg);
    background-size: 128px 128px;
    background-repeat: repeat;
    pointer-events: none;
    opacity: 0.3;
}
#playerlist h2 {
    font-family: Kreon, serif;
    font-weight: 700;
    text-transform: uppercase;
    font-size: 10vh;
    text-align: center;
    -webkit-text-stroke: 0.2vh #f2e7cb;
    text-stroke: 0.2vh #f2e7cb;
    color: black;
    letter-spacing: 0.2vh;
    text-shadow: 0.2vh 0.2vh 0.1vh #000, -0.2vh -0.2vh 0.1vh #000, -0.2vh 0.2vh 0.1vh #000, 0.2vh -0.2vh 0.1vh #000;
}
#playerlist img {
    width: 100%;
    display: block;
    margin: 1vh 0;
    opacity: 0.8;
    border: 0.6vh solid rgba(33,26,10,0.4);
}
#playerlist p {
    font-size: 3.5vh;
}
#playerlist ul {
    list-style: none;
    border-bottom: 0.4vh solid rgba(33,26,10,0.1);
    margin-top: 2vh;
}
#playerlist ul li {
    padding: 2vh 0;
    font-size: 3vh;
    border-top: 0.4vh solid rgba(33,26,10,0.1);
    text-overflow: ellipsis;
    overflow: hidden;
}
#playerlist ul li:hover {
    background: rgba(33,26,10,0.3);
    cursor: pointer;
}
#playerlist ul:empty, #waiting {
    height: 10vh;
    position: relative;
}
#playerlist ul:empty::before, #playerlist ul:empty::after, #waiting::before, #waiting::after {
    content: "";
    position: absolute;
    left: 50%;
    top: 1vh;
    margin-left: -4vh;
    width: 8vh;
    height: 8vh;
    background-image: url(rifle.svg);
    background-repeat: no-repeat;
    background-size: contain;
    background-position: center center;
    animation: 1s linear spin infinite;
    will-change: transform;
}
#waiting { height: 20vh; margin-top: 10vh; }
#waiting::before, #waiting::after { height: 20vh; width: 20vh; margin-left: -10vh; }
#playerlist ul:empty::after, #waiting::after { animation-name: spinflipped; animation-duration: 1.8s; }
@keyframes spin { from { transform: rotateZ(0deg); } to { transform: rotateZ(360deg); } }
@keyframes spinflipped { from { transform: scaleX(-1) rotateZ(10deg); } to { transform: scaleX(-1) rotateZ(370deg); } }
#playerlist a {
    position: absolute;
    width: 6vh;
    height: 6vh;
    bottom: 1.4vh;
    right: 0.6vh;
    display: block;
    border-width: 0;
}
#playerlist a img { width: 6vh; height: 6vh; border-width: 0; opacity: 0.5;}

.dialog {
    display: flex;
    flex-direction: column;
    flex-wrap: nowrap;
    justify-content: center;
    align-content: stretch;
    align-items: center;
    height: 100%;
    font-size: 5vh;
}
.dialog > * {
    flex: 0 1 auto;
    align-self: auto;
    margin: 1em 0;
}
.dialog button {
    width: 90%;
    background: rgba(0,0,0,0.2);
    border: 1px solid rgba(0,0,0,0.5);
    padding: 3vh 0;
    font-size: 7vh;
    font-family: Kreon, serif;
    text-transform: uppercase;
    border-radius: 1vh;
}
#getname input {
    font-size: 3vh;
    width: 90%;
    padding: 2vh 0;
    margin-bottom: 2vh;
    text-align: center;
    font-family: Kreon, serif;
}
#getname button {
    font-size: 4vh;
}
#byside svg {
    margin: 2vh auto;
    max-width: 45vh;
    max-height: 80vh;
}

.page { display: none; }
[data-shake] { animation: 100ms ease-in-out shake infinite alternate; }
@keyframes shake {
    0% { transform: translate(2px, 1px) rotate(1deg); }
    50% { transform: translate(-2px, -1px) rotate(-1deg); }
    100% { transform: translate(2px, 1px) rotate(1deg); }
}

#arm {
    transform-origin: 70% 10%;
    animation: armspin 5s linear infinite;
    transform: rotateZ(-50deg);
}
#forearm {
    transform-origin: 40% 5%;
    animation: forearmspin 5s linear infinite;
    transform: rotateZ(-90deg);
}
@keyframes armspin {
    0% { transform: rotateZ(-50deg); } 
    40% { transform: rotateZ(-50deg); } 
    60% { transform: rotateZ(0deg); }
    100% { transform: rotateZ(0deg); }
}
@keyframes forearmspin {
    0% { transform: rotateZ(-90deg); }
    40% { transform: rotateZ(-90deg); }
    60% { transform: rotateZ(0deg); }
    100% { transform: rotateZ(0deg); }
}

.resultspage img {
    width: 75%;
    display: block;
    margin: 1vh 0;
    opacity: 0.8;
}
.resultspage h3 { font-size: 3vh; }
.resultspage h2 { font-size: 5vh; margin: 1vh 0 0 0; }
.resultspage p { margin: 0; }
.resultspage button { margin: 2vh 0; }

#settings button {
    font-size: 3vh;
}

</style>
</head>
<body>
<div id="container">

<div id="youwin" class="page dialog resultspage">
    <h2>Got ’em!</h2>
    <img src="colt.svg" alt="">
    <h3>You</h3>
    <p><span class="yourtime">?</span>ms</p>
    <h3 class="theirname">...</h3>
    <p><span class="theirtime">?</span>ms</p>
    <button>Next!</button>
</div>
<div id="theywin" class="page dialog resultspage">
    <h2>You’re dead, Marshal.</h2>
    <img src="BigSleep.svg" alt="">
    <h3 class="theirname">...</h3>
    <p><span class="theirtime">?</span>ms</p>
    <h3>You</h3>
    <p><span class="yourtime">?</span>ms</p>
    <button>Boot Hill</button>
</div>
<div id="who" class="page">
    <h2>but who shot who?</h2>
</div>
<div id="duel" class="page">
    <p>duel</p>
    <p><small>you shouldn't be looking at this</small></p>
    <p><small>your phone should be down by your side</small></p>
    <p><small>so, do that.</small></p>
</div>
<div id="waiting" class="page">
</div>
<div id="reject" class="page dialog">
    <p>They hid from you, the cactus-suckin’ jackass!</p>
    <button>Duel another</button>
</div>
<div id="absent" class="page dialog">
    <p>That outlaw has vamoosed!</p>
    <button>Duel another</button>
</div>
<div id="playerlist" class="page">
    <a href="#settings"><img src="cog.svg" alt="Settings"></a>
    <h2>Wanted</h2>
    <p>For <span id="crime1">Rustlin’</span>, <span id="crime2">Horse-hasslin’</span>, and 
    <span id="crime3">Lewd Behaviour Injurious to Morals</span></p>
    <img src="outlaws.jpg" alt="">
    <p>Duel one o’ these varmints!</p>
    <ul></ul>
</div>
<div id="noconnection" class="page dialog">
    <p>Sorry, Marshal. You gotta be connected to the network to fight this duel.</p>
    <button>Try again</button>
</div>
<div id="getname" class="page dialog">
    <form>
        <p>What's your name, stranger?</p>
        <input id="iname">
        <button>Let’s duel!</button>
    </form>
</div>
<div id="settings" class="page dialog">
    <h2>Settings</h2>
    <button class="newname">Choose a new name</button>
    <button class="goback">Back to duelling</button>
</div>


<div id="byside" class="page">
    <p>Get ready to draw!</p>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="51.081081mm"
   height="97.907501mm"
   viewBox="0 0 180.99596 346.91634"
   id="svg4229"
   version="1.1"
   inkscape:version="0.91 r13725"
   sodipodi:docname="gundown-changeable.svg">
  <defs
     id="defs4231" />
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="2.8"
     inkscape:cx="0.10707486"
     inkscape:cy="150.32226"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="false"
     inkscape:window-width="2495"
     inkscape:window-height="1416"
     inkscape:window-x="65"
     inkscape:window-y="24"
     inkscape:window-maximized="1"
     fit-margin-top="0"
     fit-margin-left="0"
     fit-margin-right="0"
     fit-margin-bottom="0" />
  <metadata
     id="metadata4234">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-192.35917,-361.76122)">
    <path
       style="fill:#ffffff"
       d="m 292.95574,361.76654 c -7.95787,0.18898 -16.50521,5.40261 -17.22852,14.05274 -4.70935,5.50477 -25.40378,-5.92869 -17.27929,6.23828 7.86995,3.22213 16.89653,7.75933 7.02929,15.74414 -7.47787,3.54169 -9.12135,2.44601 -5.90429,9.86328 -10.59347,0.18423 -31.60522,23.46907 -29.82618,24.88421 6.27948,-11.12595 0.94331,11.33695 14.67328,12.63365 2.15804,5.39048 9.54112,9.9636 7.46735,-6.27372 -1.97264,-14.12832 6.50526,69.23466 -0.7793,55.83594 2.02452,5.11626 3.38137,9.06417 4.00196,12.77734 -0.77175,4.09278 -0.54539,8.72329 -0.91993,13.09571 -0.76625,2.78925 -1.86472,5.89311 -3.35351,9.58593 0.29011,0.40103 1.13913,-0.0953 1.92383,-0.59961 0.0745,0.71683 0.0552,1.43237 -0.0488,2.14454 -1.39376,2.13503 -3.87577,5.68171 -8.06446,11.5 -8.89156,12.35083 -10.9446,19.52696 -11.86132,40.80468 -1.31769,5.30422 -2.48141,10.66233 -2.99805,16.08985 -0.63878,1.71388 -1.28244,3.43884 -1.89258,5.06836 -0.50418,-1.62367 -1.23388,-1.53997 -2.35547,2.16797 -2.54072,8.10388 -5.08266,16.17561 -7.6289,24.25586 -3.41893,8.96802 -6.8136,17.83732 -11.14258,29.27735 -6.88475,11.3995 6.95704,21.024 -3.23438,29.4316 -10.11981,10.3178 -2.07504,21.2514 10.82422,17.6211 4.19525,0.3581 8.49053,0.489 12.60352,-0.5722 5.80445,-4.6827 8.47565,-11.2538 10.54297,-18.1524 0.39932,-0.2135 0.49162,-0.7895 0.35742,-1.209 1.54729,-5.3498 2.82295,-10.8396 4.97656,-15.7578 -1.60477,-12.5331 3.13332,-24.75381 9.06641,-35.73436 7.04939,-11.16637 7.95175,-24.26176 10.59765,-36.71875 5.41676,-15.43108 15.33831,-30.19829 22.27149,-44.02539 5.4019,15.50386 10.46417,31.72734 9.44726,48.55469 -2.75477,23.67996 8.84648,46.09774 7.84961,69.70121 4.42634,12.92 -3.23805,12.2356 -10.25,7.6894 -3.40805,-0.4297 -5.10143,11.9169 1.33594,11.0957 4.05283,-1.2111 13.5661,-6.6923 14.7207,3.7793 2.28685,3.7665 5.62163,4.4296 8.96289,3.9668 2.02617,0.6463 3.40644,0.078 4.02344,-1 2.77062,-0.9205 5.22556,-2.0815 6.66406,-2.1758 4.44472,3.5904 26.27635,4.7297 12.02539,4.9415 10.58878,1.7881 27.08282,6.2919 33.68165,-5.0469 -3.42999,-9.0677 -20.60231,-1.0581 -25.09961,-12.8789 -6.11356,-7.7757 -4.49877,-18.2768 -11.24805,-26.7071 -3.18658,-15.50714 -5.09157,-31.3505 -8.53125,-46.74412 -0.16042,-10.87831 -0.82241,-21.70214 -1.48047,-32.52343 0.0138,-0.34567 -0.013,-0.68076 -0.0605,-1.00977 -0.32717,-5.38484 -0.64914,-10.76978 -0.90625,-16.16016 1.3091,-9.23463 13.03848,-3.22095 11.88086,-14.48242 4.52976,-5.68772 4.2839,-11.52116 3.32813,-17.31641 -0.0281,-0.21748 -0.0666,-0.43907 -0.11328,-0.66601 -1.28117,-7.38697 -3.46637,-14.7008 1.85156,-21.56055 11.28784,-14.82743 -9.49777,-25.14305 -10.07813,-39.81836 -5.5558,-10.76491 1.74313,-24.42259 -3.27343,-33.73632 -4.25787,-7.72903 -2.99721,-12.17245 -13.87305,-15.78907 -43.51314,-27.42054 -46.19413,-23.60245 -14.69364,-7.98911 1.2567,-15.07276 20.922,-6.80106 23.13114,-19.14565 -5.8488,-6.08311 -22.6999,-2.90643 -17.20508,-16.68555 -0.32324,-8.74438 -6.88656,-12.48901 -13.9082,-12.32227 z"
       id="path4802"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="ccccccccccccccsccccccccccccccccccccccccccccccccccccccccccc" />
    <path
       inkscape:connector-curvature="0"
       id="path4160"
       d="m 227.08021,707.39444 c 10.62282,-8.5699 10.77048,-23.4583 15.87717,-35.1205 -1.60477,-12.533 3.13342,-24.75264 9.06651,-35.73319 7.04939,-11.16637 7.95181,-24.26228 10.59771,-36.71927 5.41676,-15.43108 15.33795,-30.19891 22.27113,-44.02601 5.4019,15.50386 10.46426,31.72738 9.44735,48.55473 -2.75477,23.67996 8.84812,46.09745 7.85125,69.70094 4.42634,12.9199 -3.23911,12.237 -10.25106,7.6908 -3.40805,-0.4297 -5.10166,11.9154 1.33571,11.0942 4.05283,-1.2112 13.56625,-6.6921 14.72085,3.7794 5.21782,8.5939 15.891,1.0381 19.6497,0.7918 4.44472,3.5903 26.2773,4.7296 12.02634,4.9414 10.58878,1.7881 27.08343,6.2913 33.68225,-5.0475 -3.42998,-9.0677 -20.60298,-1.0567 -25.10028,-12.8775 -6.11356,-7.7757 -4.49868,-18.2777 -11.24796,-26.7079 -3.18658,-15.50715 -5.09259,-31.35051 -8.53227,-46.74413 -0.24523,-16.62993 -1.65673,-33.13379 -2.44657,-49.69333 1.3091,-9.23463 13.0378,-3.22203 11.88018,-14.4835 10.48044,-13.15962 -4.58102,-27.09827 5.06648,-39.54286 11.28784,-14.82743 -9.49751,-25.1413 -10.07787,-39.81661 -5.5558,-10.76491 1.74335,-24.42435 -3.27321,-33.73808 2.15027,10.13633 -2.82965,21.53701 -0.73018,30.67536 -4.76529,2.82991 -7.14577,-0.63659 -11.86623,-0.75373 6.55345,-2.47126 7.48533,-1.86322 0.45078,-3.34014 2.20706,-3.62507 12.6501,-13.59405 2.494,-6.1048 8.60552,-11.26397 13.78972,-31.09134 -4.22029,-36.2645 -11.58346,-7.30843 -20.13183,-15.54407 -34.002,-13.73839 -5.81683,-0.40909 -6.74706,-20.48666 -6.18394,-16.652 4.54736,2.78277 7.68906,0.71018 10.63064,7.15674 4.83982,1.84139 11.29968,-2.74675 10.73545,4.95826 9.87212,-7.29097 3.06918,6.36177 5.01776,6.71394 1.2567,-15.07276 20.02895,-3.22952 22.23809,-15.57411 -5.8488,-6.08311 -22.69923,-2.90606 -17.20441,-16.68518 -0.68958,-18.65467 -29.77466,-14.55297 -31.13618,1.72962 -4.70935,5.50477 -25.40519,-5.92789 -17.2807,6.23908 7.86995,3.22213 16.89819,7.75925 7.03095,15.74406 -7.47787,3.54169 -9.12262,2.44703 -5.90556,9.8643 -10.59347,0.18423 -29.10391,17.75452 -27.32487,19.16966 6.27948,-11.12595 23.08504,-15.80627 23.95787,1.20471 2.15804,5.39048 -2.24494,27.1054 -4.31871,10.86808 -1.97264,-14.12832 6.50542,69.23456 -0.77914,55.83584 5.62035,14.20348 6.18436,19.44642 -0.27179,35.46031 1.07169,1.48145 9.96799,-9.39695 -6.18831,13.04496 -10.03682,13.94166 -11.36716,21.19913 -12.17648,49.70236 -9.84661,26.59349 -15.65962,41.42154 -25.7027,67.96198 -6.88475,11.3995 6.9568,21.0227 -3.23462,29.4303 -10.11981,10.3177 -2.0753,21.2525 10.82396,17.6222 4.19525,0.358 8.49021,0.4894 12.6032,-0.5718 z m -2.80075,-1.3969 c 3.93341,-3.4931 4.12953,1.545 0,0 z m -18.5,-0.6612 c 6.45706,-2.1201 18.05754,2.5689 4.53518,0.7227 -1.5367,-0.077 -3.02652,-0.4512 -4.53518,-0.7227 z m 6.09364,-1.5977 c -11.62398,-1.2244 9.80473,-5.9005 -2.56699,-6.1479 -8.76719,-5.4717 -1.95801,11.3904 -9.3746,3.5713 3.1342,-11.5787 15.43505,-26.3269 27.57111,-14.5085 9.35057,10.1988 -2.09479,23.7712 -15.62952,17.0851 z m 17.23908,-6.3578 c -3.30431,-9.7033 -32.59159,-2.7098 -12.50509,-4.1686 4.4043,0.4536 8.62432,2.0974 12.50509,4.1686 z m 127.43811,5.3959 c 3.03003,-1.4314 2.42551,2.1139 0,0 z m 4.47917,-1.0581 c 3.79539,-1.0278 3.01489,1.7191 0,0 z m -19.25,-2.8016 c -5.17355,-3.9257 -24.54862,-5.7666 -10.47781,-12.0495 11.13127,-16.5717 19.56496,12.473 31.06102,6.996 7.2309,-1.1109 14.13833,5.7163 2.38787,5.2598 -7.62875,0.6802 -15.39133,1.2445 -22.97108,-0.2063 z m -31.3075,-3.0654 c -5.36,-5.7877 1.35119,-5.402 2.37777,-3.0847 13.31326,-0.4896 9.83259,16.1446 -2.37777,3.0847 z m 3.07417,0.4051 c -6.05991,-3.7807 2.35216,3.42 0,0 z m -82.26667,-5.8759 c 2.35444,-4.3272 1.6427,3.997 0,0 z m 60.16309,-2.3916 c 3.21652,-7.3819 1.54306,3.1687 5.79294,0.2062 -1.3481,1.5816 -5.56242,3.3171 -5.79294,-0.2062 z m -55.16309,0.9507 c 1.86385,-3.8566 2.79812,1.8887 0,0 z m 71.50211,-2.3016 c 7.09175,-0.2042 24.63743,-6.5688 23.22062,-9.2758 -6.71428,3.8323 -26.03782,7.9183 -25.77028,2.3694 8.33729,-0.5006 30.24766,-3.8447 28.87876,-9.1194 -9.15056,2.4764 -21.89793,9.834 -29.54553,4.8266 6.27922,-9.7161 0.6734,-27.20411 4.5141,-39.71097 -4.93945,6.00429 -1.88371,24.19287 -4.51802,32.57217 -2.06556,-19.05441 -8.21353,-37.42059 -9.86597,-56.53098 5.24177,-12.40188 -1.17977,-25.97593 -1.11255,-38.3642 9.15129,-8.96829 20.91312,1.87103 17.69246,9.23241 -1.22388,-8.98832 4.78935,-6.84091 3.508,-5.53931 0.24048,-10.61466 16.19252,-4.12231 11.2794,4.38533 3.29426,12.70266 -5.44566,25.5665 1.93157,35.49406 2.60371,17.02379 5.78342,33.90281 10.15683,50.59209 1.47721,2.614 7.92314,2.7658 2.54993,9.0598 -5.05423,8.1489 -22.08011,8.4168 -24.17876,11.4687 -2.95414,-0.123 -5.94115,-0.4465 -8.74056,-1.4599 z m 28.27459,-18.4884 c 1.55905,-8.122 -10.33621,-16.81629 -3.04079,-3.9917 0.51597,0.6193 0.95232,6.5428 3.04079,3.9917 z m -25.2767,-66.28796 c 11.9967,-6.489 -18.67815,5.44754 -1.70908,0.65907 z m -2.59868,-4.01115 c 5.74916,-5.19331 -20.24402,1.36611 -4.93641,1.17336 l 2.51654,-0.38633 z m -4.40132,89.53001 c 2.55322,-3.0313 3.7103,4.114 0,0 z m -4.22917,0.3959 c 3.03003,-1.4314 2.42551,2.1139 0,0 z m -71.73779,-4.3801 c -3.60954,-3.6099 -24.54467,-3.7548 -17.52217,-7.5419 4.47417,0.5725 16.72274,4.4076 6.4072,-0.8955 5.31781,1.4324 15.17478,3.8009 4.67566,-0.5743 -4.38273,-2.6338 -19.20861,-3.5177 -7.96413,-1.4045 -11.62395,3.1271 -7.34201,-8.4085 1.69283,-4.8465 6.70043,1.421 24.95652,7.9526 21.74602,11.1246 -7.00872,0.2472 2.0802,11.3653 -7.23562,4.9076 z m 7.5621,-9.6304 c 2.23035,-7.2754 -3.49115,-28.17349 -2.74791,-9.7778 -2.3567,5.2678 -9.99476,4.3453 -1.09381,6.1765 7.53307,-5.3225 -0.0928,6.5478 -5.35896,-0.1402 -4.52389,-3.0704 -14.09098,-5.4287 -5.4086,-4.073 -5.9268,-4.6198 -13.83264,3.9111 -11.16758,-7.503 5.3324,-17.03299 10.71251,-34.00806 16.06172,-51.06988 4.38841,-14.50788 2.80119,26.323 5.01778,8.8044 -3.35547,-15.44377 1.96034,-30.28846 5.42054,-44.76921 -0.68626,-6.95963 6.54398,-15.11995 10.62585,-5.42201 2.2457,-3.00111 -5.16929,-15.36822 -2.18273,-6.19239 -12.26265,-9.37773 11.51032,-20.28482 8.05184,-31.70066 4.79908,-10.40024 -2.83094,-26.66061 12.11751,-31.38411 1.39968,2.40749 -10.71202,9.69595 -7.29894,17.47567 -0.70543,-4.46309 7.85466,-18.41852 7.35445,-8.22332 -11.37844,10.64 -6.8631,28.54777 -13.57437,41.75917 -3.83274,8.15752 -0.0985,27.47886 9.28622,23.8569 -0.0484,3.96934 -3.13839,12.12707 1.4992,1.82284 2.57018,-3.67172 8.11532,2.30058 12.78882,-2.00493 -7.79926,13.91085 -16.38981,28.58154 -16.46172,45.11779 -2.92871,17.28943 -18.71311,30.57927 -16.78587,49.04484 -0.81176,1.9657 -2.72703,11.5127 -6.14344,8.2024 z m -23.59514,-16.3854 c -0.64311,-3.68295 -2.30888,3.5021 0,0 z m 37.48688,-54.14968 c 6.34562,-2.34993 13.37334,-11.08624 2.67395,-3.8291 -1.87872,1.02408 -8.41033,9.37998 -2.67395,3.8291 z m 3.01312,-3.23529 c 1.681,-2.82007 8.27117,-4.68211 2.47834,-1.1875 z m 11.8125,-13.30251 c 4.81847,-13.32007 -4.99828,8.12984 -0.84934,2.1922 z m 5.61384,-16.08631 c 4.71963,-3.21268 -5.0151,6.60224 0,0 z m 51.06358,-0.2425 c -6.94626,-2.93635 7.14096,2.31268 0,0 z m -31.34352,-4.61927 c -6.88659,-8.60709 2.99718,-13.09607 9.5247,-13.00406 -5.96499,-2.84225 -13.65063,-5.47395 -2.53366,-7.64665 1.99177,-2.36954 -17.10713,0.7269 -14.33056,8.60013 -1.7912,6.95038 -4.72046,11.33155 -1.6584,1.28543 -2.76334,0.31909 -1.31827,19.77067 -10.51198,12.53241 4.88671,-11.51292 -6.69096,7.71982 -10.56495,-2.824 2.33031,-13.03326 12.02025,-22.9151 18.84815,-33.80764 1.46937,-6.58498 -4.62114,-18.7776 7.04287,-18.23009 -4.29949,-13.28727 15.94792,-5.30945 9.56583,2.39676 -1.84641,-7.13121 -0.64968,12.01639 -3.58486,11.41029 5.84688,-4.83035 4.67458,3.59103 5.46537,1.1095 -2.74383,-6.07682 -1.15444,-17.80424 7.33341,-10.24312 2.33715,11.17872 -1.51687,19.93441 -10.73652,26.34553 7.40417,-9.98475 20.1266,-6.94643 19.80721,6.23812 -0.14333,9.89659 7.43749,21.32487 -7.73253,17.51974 -3.74481,-2.41055 -12.98736,-8.58614 -7.24689,0.48119 5.38853,3.62569 -10.12954,2.97829 -8.68719,-2.16354 z m 4.77465,-0.14654 c -2.72152,-11.52411 -5.42996,-6.42405 0,0 z m -14.92105,-23.15886 c -1.92229,-6.13293 -1.40254,3.62417 0,0 z m 13.72316,-2.03174 c 4.48174,-5.93241 14.11186,-11.28847 2.3946,-9.73979 -6.24745,-4.04364 -11.18537,14.2723 -5.51242,4.10854 16.58998,-1.55803 -10.73356,9.57604 1.54993,6.71744 z m -0.40627,-9.21478 c 2.14478,-0.43261 -1.43918,4.30116 0,0 z M 282.06889,527.78 c 8.33262,2.39118 9.31922,-15.26088 4.34973,-3.39267 -0.0302,0.81386 -9.1333,4.31408 -4.34973,3.39267 z m 7.05268,-12.39914 c -0.95835,-6.19597 -0.5159,5.60659 0,0 z m 9.15789,49.39698 c 0.84839,-2.44072 9.25194,8.99808 0.27914,0.27536 z m 19.24158,0.35302 c -3.84569,-9.89891 -4.12633,-25.15117 -0.25509,-30.55438 -7.24078,-4.62433 -9.07628,6.19712 -11.73494,-3.9988 -3.5154,-11.5954 22.67105,-23.8299 16.96488,-5.58692 -1.49711,12.61145 2.67162,25.10778 1.25802,37.6017 -2.55427,5.14577 -8.33487,-0.49437 -1.90448,4.94466 -1.78031,0.0593 -2.94307,-1.62691 -4.32839,-2.40626 z m 1.38832,-10.00226 c 0.50725,-5.5179 -6.37341,-19.39331 -2.88657,-5.945 0.13552,2.62359 3.97811,16.27178 2.88657,5.945 z m -10.6299,-29.74774 c -2.35444,-4.32728 -1.6427,3.99692 0,0 z m 5,-3 c -2.58145,-4.3634 -2.41646,4.24388 0,0 z m -55.37074,39.25 c 0.93622,-3.22394 -12.00778,5.8312 -7.14318,-3.96188 3.04224,-13.30336 6.98384,-26.38368 9.18958,-39.8592 4.60329,-9.05864 11.85254,8.18734 17.6985,9.75531 0.8907,7.44718 -13.80854,11.96414 -8.79818,12.33928 -8.04725,4.25259 -6.00842,15.78951 -10.94672,21.72649 z m 9.35457,-27.21979 c 3.30013,-10.02655 -5.17372,6.18274 0,0 z m 58.01617,11.46979 c -4.92003,-12.91309 13.50909,-5.74167 12.80575,-7.4617 4.0106,9.17759 -13.87337,27.03781 -12.7289,9.85715 l -0.0769,-2.39545 z m 3.94727,3.13869 c 3.78557,-2.52885 9.51416,-9.75108 1.29714,-4.22076 -1.53829,-5.12525 -5.00386,-0.2463 -1.87546,2.42671 0.0584,1.26904 -2.62807,6.65263 0.57832,1.79405 z m -0.56228,-14.26029 c -13.09754,-6.89469 17.16806,1.94132 0.61807,-4.40345 -10.19943,-5.37614 9.65566,-0.69712 10.54026,-5.02844 4.81993,9.14376 -2.91357,13.28872 -11.15833,9.43189 z m -2.63499,-10.91434 c -5.58409,-8.09214 20.66397,-8.5668 9.07441,1.74787 -3.12166,0.52722 -6.10216,-1.11734 -9.07441,-1.74787 z m -51.14497,-1.634 c -5.14056,-4.05 6.60088,-3.45296 -0.19958,0.82628 l 0.18226,-0.75458 0.0173,-0.0717 z m -6.12139,-4.58006 c -6.70015,-7.88299 18.69094,-24.54297 13.08346,-9.33152 -9.72572,1.77362 -5.46551,2.9255 2.04409,0.85932 -1.77874,10.12786 -18.74497,-1.0878 -12.13619,10.78855 l -0.91939,-0.51712 z m 37.59531,0 c 5.73486,-2.35701 2.05584,3.41566 0,0 z m -1.32895,-4.24384 c -1.74403,-2.18987 6.22554,-0.32929 -1.44946,-3.96082 -8.84113,-11.23041 11.94699,-8.59713 6.92194,1.69689 4.94296,2.27471 9.52944,4.31685 0.38406,3.908 -2.02248,-0.27266 -3.96414,-0.90939 -5.85654,-1.64407 z m 15.74115,-4.50616 c -2.57354,-8.78065 15.84949,5.07201 5.30421,-3.27747 -7.13856,-0.79949 -17.58657,-16.90513 -5.32189,-6.51726 10.39578,4.87244 18.20083,5.11306 24.27728,-5.63152 1.93404,4.4275 -13.75821,20.21709 -2.62719,11.8775 0.25488,7.45071 -20.57626,12.55191 -21.63241,3.54875 z m -20.32118,-2.5 c 1.73545,-7.54832 2.01365,17.26469 0,0 z m -36.97684,4.47354 c 2.71249,0.72668 0.99595,5.6544 0,0 z m 53.80687,-3.47354 c 1.37127,-12.71 1.037,11.86308 0,0 z m -18.66228,0.75 c 1.96842,1.57377 -1.76539,4.57903 0,0 z m 13.42074,-5.16754 c 3.72692,-3.61242 3.81809,7.52141 0,0 z m -43.12009,1.91754 c 0.85352,-5.84687 2.25296,5.35335 0,0 z m 25.9246,-1.88579 c -4.82916,-7.13081 2.82281,-4.03768 1.90149,0.72134 z m -22.81297,0.72351 c 3.79539,-1.02773 3.01489,1.71911 0,0 z m 12.26178,-4.345 c 1.69873,-7.22616 8.59987,-10.56215 3.93242,-0.87839 -8.24122,3.70413 12.85367,-4.40599 2.76319,2.76749 -1.81349,1.05098 -9.05917,2.74792 -6.69561,-1.8891 z m 20.48822,1.04834 c -7.95791,-1.35657 13.45183,-18.17521 6.55211,-5.1935 -6.77655,3.98248 -2.12585,3.12386 1.80169,5.08579 -3.23297,2.77106 -5.21028,1.61004 -8.3538,0.10771 z m 23.36008,-0.61341 c -13.09716,-1.28137 -15.13883,-16.53353 -15.32569,-26.83979 5.4051,2.07665 16.7863,2.02268 5.11889,-2.92746 -8.54056,-3.09214 17.32414,-7.17387 14.70006,3.77436 5.8456,4.96089 9.51577,31.65895 -4.0952,23.37279 -10.22409,0.45579 -11.90602,-26.55194 -12.13766,-9.89502 -2.05826,5.16886 23.20146,15.69848 11.7396,12.51512 z m -61.58925,0.96818 c 3.03003,-1.43141 2.42551,2.11393 0,0 z m 74.79946,-9.70485 c 5.20082,0.97164 -1.35606,6.7378 0,0 z m -53.74099,-4.35362 c 6.71631,-0.55379 -2.05312,4.79962 0,0 z m 3.68601,-0.58736 c -1.91565,-8.33776 5.47518,-8.27665 4.52811,-1.30895 -0.60369,0.95277 -4.00938,4.15705 -4.52811,1.30895 z m -2.17117,-2.43597 c -7.70007,-9.11031 13.46402,-17.55526 10.41949,-10.9082 -9.61232,-2.02593 -8.7658,15.35688 -10.41949,10.9082 z m -22.92537,-1.86037 c -4.9134,-0.48328 -17.94828,-10.78656 -5.19336,-5.84554 8.75284,-0.50242 1.7966,6.27835 12.07596,5.94947 6.82447,-1.58536 18.18568,4.47086 4.54,2.88806 -3.91384,-0.5173 -7.73428,-1.60214 -11.4226,-2.99199 z m 36.08123,1.16878 c 3.39272,-5.51379 4.0725,-1.23673 0,0 z m -15.34934,-1.09041 c -0.0297,-6.68338 2.46318,4.3698 0,0 z m 21.00426,-1.07516 c 2.91767,-4.01296 -0.95596,4.77769 0,0 z m -30.56503,-4.24294 c -5.25661,-2.02826 -15.24856,-12.93799 -5.09563,-5.32981 4.45116,7.979 22.01673,-2.38302 6.97504,-2.09142 -20.72859,-3.73996 22.26661,-7.33105 9.13964,4.01285 -1.8752,-1.19351 -3.20909,7.61893 -11.01905,3.40838 z m 1.38365,-6.0208 c 3.32678,-0.13059 2.46359,3.90936 0,0 z m -18.43966,-6.37795 c -7.34127,-6.59307 17.42483,-5.21035 4.21185,-13.05035 -9.95218,-12.10536 7.5993,4.22982 14.28662,-0.80947 6.77644,-4.88001 16.89147,0.27809 19.38409,3.95251 -6.99775,0.0536 -7.41821,3.87964 -9.91489,-1.74751 -7.74459,2.08158 -15.02346,-1.22229 -18.49852,6.58738 -11.49683,-2.71093 -1.60357,9.39473 -3.13822,6.64405 -2.15081,-0.34133 -4.26805,-0.88124 -6.33093,-1.57661 z m 30.98143,-1.56518 c 0.0169,-11.17014 25.67024,6.24302 15.85462,-6.07302 7.50117,0.0726 3.32189,2.36686 1.20923,-2.14395 14.77435,4.30613 -6.24905,13.35381 -14.08666,9.32293 -3.25569,2.8458 -2.6795,0.24623 -2.97719,-1.10596 z m -11.86618,-1.34925 c -10.33405,-0.16919 8.07101,-1.67138 9.45613,-5.0899 5.76464,13.10951 -3.0792,5.9669 -9.45613,5.0899 z m 22.60087,-6.56303 c 3.79539,-1.02773 3.01489,1.71911 0,0 z m 13.31025,-27.14674 c 3.71871,-3.04738 -6.44266,-12.41935 2.86717,-6.90064 12.39383,3.31886 9.11061,21.01442 2.27373,27.26906 -3.39164,-2.88641 -3.51556,-14.81931 -5.1409,-20.36842 z m -4.13899,12.71883 c 2.87082,-4.97115 9.29159,5.02584 0.78101,0.19737 l -0.75263,-0.1902 -0.0284,-0.007 z m -28.92126,-5.33052 c -5.67625,-3.71393 -18.18135,-22.31933 -9.64887,-21.10076 3.89935,13.02962 21.03329,20.54015 28.40352,5.86704 1.47513,5.16641 -7.79945,16.96209 -13.37248,21.18387 -2.41589,-0.87813 -3.9512,-3.92174 -5.38217,-5.95015 z m 3.91667,-1.86226 c -3.41545,-5.22247 -5.14436,0.18861 0,0 z m -16.91667,6.16494 c 2.85339,-2.18241 1.70766,5.11035 0,0 z m -6,1.67705 c 1.86385,-3.85656 2.79812,1.88874 0,0 z m -3.38156,-1.11096 c 0.48078,-4.30238 2.44441,5.80612 0,0 z m 13.09181,-1.44806 c 2.5509,-6.11104 0.10197,5.92869 0,0 z m 32.56058,0.39583 c 3.03008,-1.43137 2.42552,2.11364 0,0 z m -5.41005,-2.45518 c -6.08252,-5.3772 8.9735,5.64828 0,0 z m -34.4019,0.99282 c 0.53172,-6.04533 5.6487,4.08055 0,0 z m -3.45888,-0.99249 c 2.44294,-3.50547 1.00279,4.7996 0,0 z m -3,0.059 c 2.35444,-4.32728 1.6427,3.99692 0,0 z m 13.5,-2 c 0.64311,-3.68297 2.30888,3.50207 0,0 z m -11.5,-2.5 c 5.37003,-3.58985 -3.21131,5.30137 0,0 z m 35.65492,-0.0431 c 2.91767,-4.01296 -0.95596,4.77768 0,0 z M 269.753,430.574 c 3.32675,-0.13058 2.46363,3.90935 0,0 z m 30.40237,-3.4598 c 3.34812,-1.62571 -3.27221,4.45482 0,0 z m 2.86766,-0.12744 c -3.19872,-12.5858 8.43397,1.99964 0.51385,0.76323 z m -7.7651,-3.57565 c 8.20983,-9.98166 -3.80063,7.54716 0,0 z m -29.38673,-1.87856 c 3.86169,-9.60577 -1.43422,10.46325 0,0 z m 19.90826,1.34901 c -6.70488,-0.15361 -14.7543,-12.85919 -4.04205,-4.04605 6.85706,5.88607 12.03134,0.54479 13.80355,-3.98961 15.69001,-7.71106 -5.68463,15.42828 -9.7615,8.03566 z m -5.5,-6.9e-4 c 0.0982,-4.52297 6.12562,5.74303 0,0 z m -12.26764,-0.58454 c 3.96052,-4.05868 -0.58707,5.90641 0,0 z m 22.01764,-3.57774 c 3.79497,-1.02781 3.01534,1.71913 0,0 z m -11.25,-3.16929 c -9.03993,-0.8732 -4.91041,-13.39334 -0.81507,-1.91531 5.42058,5.44132 14.33742,0.68943 3.4281,0.47837 -5.78518,-5.02068 -7.50956,-10.61026 0.39346,-5.59145 6.22161,-0.33598 18.21459,3.11939 8.95177,7.38741 -1.98357,4.90824 -8.98068,1.56894 -11.95826,-0.35902 z m 15.01039,-3.18524 c -6.15122,-3.89482 -18.15333,0.40166 -4.54744,0.20403 1.44386,0.305 3.28728,1.09563 4.54744,-0.20403 z m -38.25741,4.86979 c 2.42367,-7.58019 18.547,-9.52749 5.06618,-1.79086 -1.01981,1.23623 -3.51621,4.1435 -5.06618,1.79086 z m 47.29702,-3.98209 c 6.35943,-1.15958 9.26642,5.32639 0,0 z m -52.01604,-1.50718 c 4.99671,-1.05831 18.68963,-5.33814 7.18582,-0.63099 -0.98061,-0.13993 -12.72439,4.57308 -7.18582,0.63099 z m 39.46604,-3.80469 c 1.86385,-3.85656 2.79812,1.88874 0,0 z m -24,-3.50933 c 3.79344,-3.75466 1.86356,-9.31051 -1.32975,-1.99737 -8.97403,-4.52271 3.38657,8.40131 -6.43166,0.40276 2.55888,-1.97888 11.98711,-6.86218 12.13716,-8.98317 0.18545,1.64885 -1.2244,16.09159 -4.37575,10.57778 z m 9.47746,-3.01322 c -4.9126,-5.92101 -2.567,-17.68347 0.96908,-4.53412 -0.23015,-0.34475 -0.0141,8.72006 -0.96908,4.53412 z m 24.52254,-7.76487 c -12.0133,-5.70428 -37.39108,-12.13722 -41.24637,-15.96999 12.37013,-0.40135 26.04799,7.66528 38.58611,12.18749 5.66859,1.89183 -23.34233,-10.79901 -4.80331,-5.43111 7.78284,4.98612 28.45701,1.93346 28.0931,10.34604 -6.56185,3.37503 -13.91695,-0.46248 -20.62953,-1.13243 z m 18.75,-1.00007 c -10.66891,-0.6918 -8.6468,1.18273 0,0 z m -11.75,-0.4102 c -5.6461,-5.16654 -9.14228,0.49697 0,0 z m -24,-0.68814 c 2.40764,-2.27911 9.24633,1.76092 2.84799,0.80782 z m 21,-5.61417 c 1.86385,-3.85656 2.79812,1.88874 0,0 z m -4.77083,-2.37152 c 3.19444,-4.31743 2.78859,5.00485 0,0 z m -3.82466,-0.34201 c 2.26904,-5.02939 4.99685,3.33561 0,0 z m -4.05268,-1.37101 c -14.20545,-1.28319 7.13108,-4.85152 1.55583,1.47342 l -0.79131,-0.32225 z m -3.85183,-3.40714 c -19.98136,4.9572 -2.74461,-22.05543 9.43424,-15.29305 11.37677,0.94824 10.83006,25.89426 -2.4027,16.43708 -2.32769,-0.47279 -4.67315,-0.86023 -7.03154,-1.14403 z m 3.48469,-8.75832 c 0.3388,-11.06072 -4.59958,3.24716 0,0 z m 36.55643,77.62444 c 1.43955,-5.52066 -3.11711,3.94809 0,0 z m -38.73594,-44.87381 c -8.30702,-5.69248 -3.32444,7.51785 0,0 z"
       style="fill:#c87137"
       sodipodi:nodetypes="ccccccccccccccccccccccccccccccccccccccccccscccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc" />
    <g
       id="arm">
      <g
         transform="translate(-581.30453,138.78295)"
         id="g4513">
        <path
           inkscape:connector-curvature="0"
           style="fill:#ffffff;fill-rule:evenodd;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
           d="m 787.77539,334.35352 20.82813,15.20312 6.04492,-9.83398 10.29687,-9.40625 8.62696,-21.71875 -20.20118,-17.82032 -15.3457,36.33008 -10.25,7.2461 z"
           id="path4242" />
        <path
           inkscape:connector-curvature="0"
           id="path4244"
           style="fill:#c87137"
           d="m 784.13867,331.69922 5.67578,4.14453 -0.13086,-1.07422 c 2.27394,-7.10943 4.63467,0.12155 4.73047,4.42969 l 5.5918,4.08203 c -2.83692,-6.01715 -4.67484,-24.61594 -1.31836,-11.17578 1.15131,8.27527 12.58568,10.70588 3.22852,2.41015 -7.04128,-11.63661 3.27834,-21.74284 7.04687,-32.70117 0.0164,6.82423 3.67185,14.88872 1.78516,4.51563 -0.80847,-4.60642 7.15927,-27.76165 0.2207,-13.25977 -6.46924,12.51469 -11.5055,36.56938 -25.54492,39.26172 -0.48313,-0.2973 -0.8768,-0.45295 -1.28516,-0.63281 z m 31.54102,-39.91016 c -0.17081,-1.13527 -2.64947,4.32219 -2.04102,6.13477 L 814.88086,295.5 c 0.65592,-2.22266 0.85576,-3.33251 0.79883,-3.71094 z m -14.42188,29.1836 c -1.00263,0.0606 -1.79163,4.06612 0.95117,1.63867 -0.25867,-1.24078 -0.61696,-1.65889 -0.95117,-1.63867 z m 1.85938,10.10937 c -0.90961,-0.23023 -0.28385,1.27155 3.46484,4.95117 -0.22853,0.44423 7.35084,3.70374 2.28711,0.48438 -2.39588,-3.24338 -4.84235,-5.20531 -5.75195,-5.43555 z m -2.03321,3.94727 c 1.37027,-0.63734 0.85184,4.83456 -0.70507,0.69336 0.27533,-0.38623 0.50932,-0.60231 0.70507,-0.69336 z m 6.30079,13.63867 0.76757,0.56055 c 4.9296,-8.97852 11.03691,-16.53963 16.24024,-18.33008 0.97367,-1.60111 1.33942,-8.70995 -2.35547,-1.33399 -1.21718,1.23623 -9.17111,10.67124 -14.65234,19.10352 z m 0,0 c -0.59965,0.92249 -1.17537,1.82962 -1.70118,2.71484 0.45698,-0.0153 0.93344,-0.0859 1.41407,-0.16601 0.34613,-0.671 0.6942,-1.33172 1.05468,-1.98828 l -0.76757,-0.56055 z m -4.89258,9.35742 c 0.52129,-1.83063 1.70817,-4.14548 3.1914,-6.64258 -1.60308,0.0538 -3.01108,-0.40855 -4.36328,-1.01367 0.42721,2.44074 0.64168,4.0193 1.17188,7.65625 z" />
      </g>
      <g
         id="forearm">
        <rect
           ry="5.9194241"
           y="520.909"
           x="193.86124"
           height="48.258251"
           width="27.576143"
           id="rect4240"
           style="opacity:1;fill:#000000;fill-opacity:1;stroke:none;stroke-width:10;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:4.875;stroke-opacity:1" />
        <g
           id="g4517"
           transform="translate(-581.30453,138.78295)">
          <path
             id="path4467"
             d="m 787.77539,334.35352 -0.60351,0.42578 -5.58594,-1.5918 -0.96875,3.40039 2.58008,20.42969 -6.09961,10.3418 -2.83204,17.31054 3.09376,10.33594 7.63281,4.53906 9.01953,-0.31836 6.41406,-6.83789 2.76758,-9.71289 1.30859,-17.48437 2.31641,-12.73243 1.78516,-2.90234 -20.82813,-15.20312 z"
             style="fill:#ffffff;fill-rule:evenodd;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
             inkscape:connector-curvature="0" />
          <path
             d="m 784.13867,331.69922 c -9.17308,-4.04031 -0.21338,20.43676 -3.60937,27.18359 -5.16951,6.94075 -8.17247,17.97833 -6.31055,27.42188 0.10674,-0.87336 0.24102,-1.76225 0.75,-2.82813 1.99838,-9.42289 15.07767,-2.72705 21.32617,-4.78906 9.87402,5.17579 0.62658,22.98328 -4.08203,8.14453 -5.31894,8.56804 9.05618,6.22381 -0.84375,11.0957 -0.86722,0.54963 -4.35103,2.57876 -4.29297,0.0332 0.19251,-2.41823 -8.29284,-3.31813 -11.63867,-7.34571 1.2154,3.05211 3.00934,5.83605 5.66016,8.03321 19.62362,5.09707 23.15848,-10.85597 22.60156,-26.84571 -1.3958,8.92973 -1.55076,14.173 -2.94727,12.09375 -2.46991,-4.52652 -1.5559,-12.34956 1.16016,-20.62109 -12.65328,2.8142 -23.403,-18.68928 -20.07031,-30.10156 7.06207,-0.0542 11.29227,13.53188 19.47851,17.19531 -0.3697,-2.11219 -0.96562,-5.38432 -0.97851,-6.09766 -0.12568,-0.20777 -0.21378,-0.73112 -0.33594,-0.99023 l -5.5918,-4.08203 c 0.07,3.14958 -1.03557,4.7786 -4.44531,-2.10742 l -0.1543,-1.24805 -5.67578,-4.14453 z m 0.52149,9.1914 c -0.29267,0.41885 0.43103,1.97598 2.90625,5.20508 2.51173,2.20005 3.51495,6.92894 7.29492,7.35547 0.70066,-4.82836 -9.32317,-13.81707 -10.20117,-12.56055 z m -0.35547,14.94141 c 1.62358,-0.4215 3.59794,0.70931 5.8789,4.26563 12.45418,11.16859 -4.85639,14.85323 -10.85156,6.74609 0.53745,-5.29426 2.26669,-10.30922 4.97266,-11.01172 z m -6.33008,12.19531 c 1.22024,-0.0463 3.12993,0.81825 4.96875,3.36524 4.81862,0.61696 22.2441,-1.09046 10.78906,5.67969 -5.67015,1.72583 -12.30495,1.83799 -17.39453,-1.58789 -0.28171,-4.07694 14.26487,1.52731 4.81836,-3.22657 -5.33146,-1.54758 -5.21537,-4.15331 -3.18164,-4.23047 z m 16.85742,11.41993 c -0.38491,0.33649 -1.86034,5.73577 -0.13672,1.88085 0.27327,-1.5434 0.26503,-1.99302 0.13672,-1.88085 z m -16.83398,1.17187 c -0.55218,0.23051 -1.87002,3.99268 -1.25196,6.73828 l 0.83399,-2.35547 c 0.80476,-3.38673 0.74927,-4.52112 0.41797,-4.38281 z m 29.09961,-29.40234 c -1.62285,3.14592 -3.06394,6.3508 -4.26172,9.60937 0.0378,0.29212 0.0708,0.58309 0.10742,0.87891 -0.12744,-0.0982 -0.22931,-0.21712 -0.32227,-0.34375 -0.23113,0.64345 -0.49908,1.27482 -0.70898,1.91406 0.39115,-0.087 0.78525,-0.23653 1.17969,-0.37109 0.33661,2.91921 0.50069,5.83406 0.60742,8.89843 0.88517,-5.66293 2.16095,-12.50097 4.91406,-20.88085 -0.52709,0.15895 -1.01571,0.21158 -1.51562,0.29492 z m -4.47657,10.14453 c 0.0642,-0.17857 0.14914,-0.35639 0.21485,-0.53516 -0.12056,-0.93093 -0.21452,-1.9143 -0.34375,-2.80078 -0.42042,1.47637 -0.4011,2.61395 0.1289,3.33594 z m -27.18359,29.2539 c -0.54982,-1.3807 -0.9262,-2.82676 -1.21875,-4.31054 -0.2157,1.7648 0.27028,3.16882 1.21875,4.31054 z m 18.4082,-23.73437 c -0.42954,0.46802 -1.12559,4.08682 0.25391,0.94922 0.003,-0.91108 -0.11072,-1.10523 -0.25391,-0.94922 z m 1.21289,6.64453 c -1.0143,-0.0414 -8.08023,3.60348 -1.72461,1.61523 1.7277,-1.17824 2.06272,-1.60142 1.72461,-1.61523 z m -13.8164,8.30078 c -0.47772,0.24237 -2.33198,11.60092 -0.28321,4.98047 l 0.10743,-0.43945 c 0.342,-3.46747 0.33502,-4.62181 0.17578,-4.54102 z m 3.94336,0.30664 c -0.52067,-1.26028 -2.79267,6.37688 -0.61914,6.5 l 0.32617,-1.66601 c 0.44568,-3.005 0.46652,-4.41389 0.29297,-4.83399 z"
             style="fill:#c87137"
             id="path4446"
             inkscape:connector-curvature="0" />
        </g>
      </g>
    </g>
  </g>
</svg>
    
</div>




</div>
<script src="/socket.io/socket.io.js"></script>
<script src="/monikers.js"></script>
<script>

function Game() {
    var socket, ELEMENTS = {}, SOUNDS = {}, timedelta = 0;
    var CONTEXTS = {};

    function shuffle(list) {
        var i, j, t;
        for (i = 1; i < list.length; i++) {
            j = Math.floor(Math.random()*(1+i));  // choose j in [0..i]
            if (j != i) {
                t = list[i];                        // swap list[i] and list[j]
                list[i] = list[j];
                list[j] = t;
            }
        }
    }
    var crimes = ["Rustlin’", "Horse-hasslin’", "Thievery", "Cattle-Stealin’", "Drinkin’",
        "Lollygaggin’", "Murder", "Irony", "Riflin’", "Shootin’", "Knives", "Riots", "Melees"];
    var longcrimes = ["Lewd Behaviour Injurious to Morals", "Robbin’ the Deadwood Stage",
        "Makin’ Free with Folks’ Property", "Mistreatment of the Women",
        "Drinking the Whole Spittoon", "Cheatin’ at Cards", "Playin’ With a Stacked Deck",
        "Buildin’ Sites Requirin’ JS", "Disturbances of the Peace"]
    var msgid = 1;
    function getTimeDelta(done) {
        var deltas = {};
        socket.on("timereply", handleTimeReply);

        function handleTimeReply(msg) {
            deltas[msg.msgid].localEnd = new Date().getTime();
            deltas[msg.msgid].serverTime = msg.time;
            next();
        }
        function next() {
            if (Object.keys(deltas).length >= 10) {
                // find the average
                var totalDelta = 0, localMiddleTime, drift;
                for (var k in deltas) {
                    localMiddleTime = ((deltas[k].localEnd - deltas[k].localStart) / 2) + deltas[k].localStart;
                    drift = localMiddleTime - deltas[k].serverTime; // this will be positive if local clock is ahead of server clock
                    totalDelta += drift;
                }
                var averageDelta = totalDelta / Object.keys(deltas).length;
                socket.off("timereply", handleTimeReply);
                return done(averageDelta);
            }
            deltas[msgid] = {localStart: new Date().getTime()};
            socket.emit('time', {msgid: msgid++});
        }

        next();
    }

    var gunStateHandlers = {}, gunState = "unknown", gunMonitoring = false, BETA_TOLERANCE = 15;
    function monitorGunState(handlers) {
        gunStateHandlers = handlers;
        var fireOnStartup = gunStateHandlers[gunState];
        if (fireOnStartup) { console.log("fireOnStartup", gunState); fireOnStartup(); }
        if (!gunMonitoring) {
            console.log("we are not gunMonitoring");
            gunMonitoring = true;
            window.addEventListener('deviceorientation', function(e) {
                var gs;
                if ((e.beta >= (-90 - BETA_TOLERANCE)) && (e.beta <= (-90 + BETA_TOLERANCE))) {
                    gs = "down";
                } else if (((e.beta >= -180) && e.beta <= (-180 + BETA_TOLERANCE)) ||
                           ((e.beta <= 180) && (e.beta >= 90))) {
                    gs = "up";
                } else {
                    gs = "neither";
                }
                if (gunState != gs) {
                    console.log("state was", gunState, "and now is", gs, "with elements", e.alpha, e.beta, e.gamma);
                    var match = gunStateHandlers[gs];
                    //console.log("calling", match, gs, gunStateHandlers);
                    if (match) { setTimeout(match, 0); } // important that that gets called in the next tick, not now
                }
                gunState = gs;
                //console.log("do", e.alpha, e.beta, e.gamma, gunState);
            }, false);
        }
    }

    function clearSocketMessageWait(){} // defined here to be public; overridden in waitforSocketMessage

    function waitForSocketMessage(switcher) {
        return function() {
            // we set up a wait on the messages from the socket
            // if we get one of them, we unbind the others
            // if we get an unexpected one, we log it and disregard it
            var handlers = {};
            function unbindAll() {
                Object.keys(handlers).forEach(function(messageName) { socket.off(messageName, handlers[messageName]); })
            }
            function handler(messageName, msg) {
                unbindAll();
                clearTimeout(abort);
                // and call this one
                switcher[messageName](msg);
            }

            Object.keys(switcher).forEach(function(messageName) {
                var createdHandler = function(msg) {
                    handler(messageName, msg);
                };
                handlers[messageName] = createdHandler;
                socket.on(messageName, createdHandler);
            });
            var abort = setTimeout(function() {
                unbindAll();
                switcher.abortTimeout();
            }, 5000);
            clearSocketMessageWait = function() { unbindAll(); clearTimeout(abort); }
        }
    }
    function abortTimeout() {
        showPage("noconnection", function() { location.reload(); });
    }
    function showPage(pn, onClickHandler) {
        // hide all pages
        ELEMENTS.pages.forEach(function(p) { p.style.display = null; })
        var page = document.getElementById(pn);
        if (page.classList.contains("dialog")) {
            var handlerWrapper = function(e) {
                if (e.target.nodeName.toLowerCase() == "button") {
                    page.removeEventListener("click", handlerWrapper, false);
                    if (onClickHandler) onClickHandler(e);
                }
            }
            page.addEventListener("click", handlerWrapper, false);
        }
        page.style.display = page.classList.contains("dialog") ? "flex" : "block";
    }

    function setName(done) {
        var name = window.localStorage.getItem("gunslinger-name");
        if (name) {
            console.log("Got a LocalStorage name", name);
            setTimeout(function() { done(); }, 0);
            return;
        }

        function gotname(e) {
            e.preventDefault();
            console.log("No LocalStorage name");
            var iname = document.getElementById("iname");
            name = iname.value;
            if (name == "") {
                iname.dataset.shake = "shake";
                setTimeout(function() { delete iname.dataset.shake; }, 400);
            } else {
                if (name.indexOf(" ") !== -1) {
                    if (Math.random() < 0.5) {
                        name = "“" + MONIKERS.start[Math.floor(Math.random() * MONIKERS.start.length)] + "” " + name;
                    } else {
                        name = name.replace(" ", " “" + MONIKERS.middle[Math.floor(Math.random() * MONIKERS.middle.length)] + "” ");
                    }
                } else {
                    name = "“" + MONIKERS.start[Math.floor(Math.random() * MONIKERS.start.length)] + "” " + name;
                }
                window.localStorage.setItem("gunslinger-name", name);
                console.log("Set LocalStorage name and this.name to", name);
                setTimeout(function() { done(); }, 0);
            }
        }
        // remove it in case it was set from last time
        ELEMENTS.getNameForm.removeEventListener("submit", gotname, false);
        ELEMENTS.getNameForm.addEventListener("submit", gotname, false);
        showPage("getname");
    }

    function register(done) {
        console.log("registering as", window.localStorage.getItem("gunslinger-name"));
        socket.emit("register", {name: window.localStorage.getItem("gunslinger-name")});
        done();
    }

    function rejectChallenge(msg) {
        showPage("reject", function() {
            nameOK();
        });
    }
    function absentChallenge(msg) {
        showPage("absent", function() {
            nameOK();
        });
    }
    function startMusic() {
        return playSound("wild");
    }
    function playSound(sound, volume) {
        var context = CONTEXTS[sound];
        if (!context) {
            context = new AudioContext();
            CONTEXTS[sound] = context;
        }
        var source = context.createBufferSource(); // creates a sound source
        source.buffer = SOUNDS[sound];             // tell the source which sound to play
        var gainNode = context.createGain();
        source.connect(gainNode);
        gainNode.connect(context.destination);
        if (volume === 0) gainNode.gain.value = 0;
        source.start(0);
        return source;
    }
    function battleResult(msg) {
        if (msg.youwin) {
            ELEMENTS.youwin_yourtime.firstChild.nodeValue = msg.yourtime == 999999 ? "drew too early" : Math.round(msg.yourtime).toString();
            ELEMENTS.youwin_theirtime.firstChild.nodeValue = msg.theirtime == 999999 ? "drew too early" : Math.round(msg.theirtime).toString();
            ELEMENTS.youwin_theirname.firstChild.nodeValue = msg.opponent;
            showPage("youwin", nameOK);
        } else {
            ELEMENTS.theywin_yourtime.firstChild.nodeValue = msg.yourtime == 999999 ? "drew too early" : Math.round(msg.yourtime).toString();
            ELEMENTS.theywin_theirtime.firstChild.nodeValue = msg.theirtime == 999999 ? "drew too early" : Math.round(msg.theirtime).toString();
            ELEMENTS.theywin_theirname.firstChild.nodeValue = msg.opponent;
            showPage("theywin", nameOK);
        }
        console.log("got result msg", msg);
    }
    function opponentReady(msg) {
        console.log("opponent ready!", msg);
        showPage("duel");
        var musicContext = startMusic();
        var now = new Date().getTime();
        var serverTimeAsLocalTime = msg.firetime + timedelta;
        var timeFromNowToThen = serverTimeAsLocalTime - now;
        setTimeout(function() {
            musicContext.stop();

            monitorGunState({}); // so we don't keep playing gunshots
            waitForSocketMessage({
                "result": battleResult,
                "abortTimeout": abortTimeout
            })();
            showPage("waiting");

            if (hasRicocheted) { // then we lost. Fail.
                socket.emit("time taken", {taken: 999999});
            } else {
                var drawStart = (new Date()).getTime();
                monitorGunState({
                    up: function() {
                        var drawTime = (new Date()).getTime() - drawStart;
                        showPage("who");
                        playSound("gun");
                        socket.emit("time taken", {taken: drawTime});
                    }
                });
                playSound("draw");
            }
        }, timeFromNowToThen);
        console.log("will fire msg at " + timeFromNowToThen + " from now");
    }
    var hasRicocheted = false;
    function readyForBattle() {
        var vibrating = false, vibratingTimer;
        hasRicocheted = false;
        function startVibrating() {
            if (hasRicocheted) {
                console.log("We've already ricocheted, so this shouldn't happen");
            } else if (vibrating) {
                console.log("already vibrating");
            } else {
                vibrating = true;
                console.log("start vibrating", navigator.vibrate);
                if (navigator.vibrate) {
                    navigator.vibrate(1000);
                }
                vibratingTimer = setTimeout(function() {
                    navigator.vibrate(0);
                    console.log("vibrating too long!");
                    vibrating = false;
                    hasRicocheted = true;
                    playSound("ricochet");
                    monitorGunState({});
                }, 1000);
            }
        }
        monitorGunState({
            down: function() {
                if (vibrating) {
                    console.log("stop vibrating");
                    navigator.vibrate(0);
                    vibrating = false;
                    clearTimeout(vibratingTimer);
                }
            },
            neither: startVibrating,
            up: startVibrating
        });
        waitForSocketMessage({
            "opponent ready": opponentReady,
            "abortTimeout": abortTimeout
        })();
        socket.emit("ready");
        showPage("waiting");
    }
    function acceptChallenge(msg) {
        getTimeDelta(function(td) {
            timedelta = td;
            console.log("timedelta is", td);
            showPage("byside");
            monitorGunState({
                down: readyForBattle
            });
        })
    }
    function sendChallenge(opponent) {
        waitForSocketMessage({
            "reject": rejectChallenge,
            "absent": absentChallenge,
            "accept": acceptChallenge,
            "abortTimeout": abortTimeout
        })();
        socket.emit("challenge", {opponent: opponent});
    }

    function displayPlayerList(msg) {
        var frag = document.createDocumentFragment();
        msg.names.forEach(function(n) {
            var li = document.createElement("li");
            li.appendChild(document.createTextNode(n));
            li.onclick = function() {
                playSound("gun", 0); // do this here so that we play in a click event for iOS
                showPage("waiting");
                sendChallenge(n);
            }
            frag.appendChild(li);
        });
        ELEMENTS.playerlist.appendChild(frag);
    }

    function showSettings() {
        clearSocketMessageWait();
        showPage("settings", function(e) {
            if (e.target.classList.contains("newname")) {
                localStorage.removeItem("gunslinger-name");
            }
            location.reload();
        });
    }

    function nameOK(msg) {
        waitForSocketMessage({
            "playerlist": displayPlayerList,
            "abortTimeout": abortTimeout
        })();
        ELEMENTS.playerlist.innerHTML = "";
        shuffle(crimes); shuffle(longcrimes);
        ELEMENTS.crime1.innerHTML = crimes[0];
        ELEMENTS.crime2.innerHTML = crimes[1];
        ELEMENTS.crime3.innerHTML = longcrimes[0];

        // remove it in case it was set from last time
        ELEMENTS.settingsa.removeEventListener("click", showSettings, false);
        ELEMENTS.settingsa.addEventListener("click", showSettings, false);

        showPage("playerlist");
        socket.emit("getlist");
    }
    function challenge(msg) {
        console.log("challenge by", msg);
    }
    function nameUsed(msg) {
        console.log("name you chose is used");
    }

    function begin() {
        setName(function() {
            register(waitForSocketMessage({
                "name ok": nameOK,
                "challenge": challenge,
                "name used": nameUsed,
                "abortTimeout": abortTimeout
            }));
        })
    }

    function populateElements() {
        ELEMENTS = {
            playerlist: document.querySelector("#playerlist ul"),
            pages: Array.prototype.slice.call(document.querySelectorAll(".page")),
            youwin_theirname: document.querySelector("#youwin .theirname"),
            youwin_theirtime:document.querySelector("#youwin .theirtime"),
            youwin_yourtime: document.querySelector("#youwin .yourtime"),
            theywin_theirname: document.querySelector("#theywin .theirname"),
            theywin_theirtime:document.querySelector("#theywin .theirtime"),
            theywin_yourtime: document.querySelector("#theywin .yourtime"),
            crime1: document.getElementById("crime1"),
            crime2: document.getElementById("crime2"),
            crime3: document.getElementById("crime3"),
            settingsa: document.querySelector("#playerlist a"),
            getNameForm: document.querySelector("#getname form"),
        };
    }
    function populateSounds(done) {
        var sounds = ["draw", "gun", "wild", "ricochet"];
        window.AudioContext = window.AudioContext || window.webkitAudioContext;
        var context = new AudioContext();
        function next() {
            var ns = sounds.shift();
            if (!ns) { return done(); }
            var request = new XMLHttpRequest();
            request.open('GET', ns + ".mp3", true);
            request.responseType = 'arraybuffer';
            request.onload = function() {
                context.decodeAudioData(request.response, function(buffer) {
                    SOUNDS[ns] = buffer;
                    setTimeout(next, 0);
                }, function(err) {
                    console.log("error loading sound", ns, err);
                });
            }
            request.send();
        }
        next();
    }
    this.start = function() {
        try {
            socket = io();
            populateElements();
            showPage("waiting");
            populateSounds(begin);
        } catch(e) {
            console.log(e);
            alert("error!");
        }
    }
}

var game = new Game();
game.start();

</script>

</body>
</html>